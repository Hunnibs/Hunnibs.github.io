---
layout: post
title:  "블록체인"
description: >
    "블록체인 기술 관련"

hide_last_modified: false
---
* TOC
{:toc}
***
### 정의
***
+ 블록체인은 블록들을 체인으로 연결해놓은 것

- **블록**이라고 하는 소규모 데이터들이 관리 대상 데이터를 P2P 방식을 기반으로 생성된 체인 형태의 연결고리 기반 분산 데이터 저장 환경에 저장하는 방식
- 합의 없이 체인을 삭제하거나 수정할 수 없으므로 데이터가 시간 순서대로 일관성이 있음
- 결과적으로 주문, 결제, 계정, 기타 트랜잭션을 추적하기 위해 변경 불가능한 분산 원장을 생성할 수 있음

> 분산 원장이란?   
> 분산 원장은 탈중앙화의 특징을 가진 트랜잭션 데이터베이스를 뜻한다. 여기서 원장은 거래 장부를 뜻하는데 거래에 참여하는 각 당사자는
> 동일한 거래 장부 사본을 소유하며, 변경 내용은 모두 함께 업데이트 된다.

### 기술의 특징
***

**탈중앙화**

- 중앙 집중식 엔티티에서 분산 네트워크로 이전
- 투명성을 사용해 서로 간에 신뢰 필요성이 줄어듬

**불변성**

- 공유 원장에 거래를 기록하면 참여자는 거래를 조작할 수 없다.
- 오류가 발생했을 때는 이전 거래를 지우고 수정하는게 아니라 새로운 거래를 추가해야한다.   
  (→ 네트워크 내 기록에는 두 개의 거래가 모두 남게된다)

**합의**

- 거래 기록을 위한 참여자 동의에 관한 규칙을 설정
- 과반수가 동의한 경우에만 새로운 거래를 기록 가능

### 핵심 구성 요소
***

**분산 원장**

- 블록체인 네트워크의 공유 데이터베이스

**스마트 계약**

- 서드 파티를 지원할 필요 없이 비즈니스 계약을 자체 관리
- 미리 정해진 조건이 충족되면 자동으로 실행되는 블록체인 시스템 내 프로그램

**퍼블릭 키 암호화**

- 블록체인 네트워크 참여자를 고유하게 식별하는 보안 기능, 두 세트로 주어짐
- 퍼블릭 키: 모든 사람에게 공통적으로 주어지는 키
- 프라이빗 키: 구성원 고유의 키
- 두 개의 키가 함께 작동하여 원장의 데이터 잠금을 해제하는 방식

### 블록체인 연결되는 방식
***

![blockchain](/assets/img/it/block.png)

- 블록은 계속해서 만들어져 나온다.
- 블록에 데이터를 저장해서 *블록체인*에 연결을 시키기 위해서는 일련의 과정이 필요하다.

1. 블록체인 내 연결할 블록의 해시값을 가져온다.
2. 저장하고 싶은 데이터를 해싱을 통해 해시값을 생성해낸다.
3. 두 개의 해시값에 채굴자가 Nonce 값을 찾아내 새로운 해시값을 생성해낸다.

> Nonce란?   
> 새로운 해시값은 제약조건이 존재하기 때문에 적절한 Nonce 값을 찾아줘야한다.   
> 적절한 Nonce 값을 찾기 위해서 계속해서 변경되기 때문에 '임시값'이라고도 한다. 

- 위 과정을 거쳐 블록들이 연결되기 때문에 이미 블록에 저장되어있는 데이터를 변경하려하면 데이터의 해시값이 변하게 된다.(불변성)

### 블록체인 네트워크 유형
***

**퍼블릭 블록체인**

- 모든 사람이 블록체인에 참여할 수 있다.
- 모든 구성원은 Read & Write 과 Validation을 할 권리를 갖는다
- 암호화폐의 대부분은 퍼블릭 블록체인을 사용한다(ex. Bitcoin, Ethereum)

**프라이빗 블록체인**

- 단일 조직의 관리형 블록체인이라고도 불린다.
- 해당 조직에서 구성원과 권한을 결정할 수 있다.
- 따라서, 접근 제한을 위해 부분적으로만 분산시켜 놓는 특징이 있다

**하이브리드 블록체인**

- 프라이빗 & 퍼블릭 네트워크 결합
- 기존 퍼블릭 시스템에 권한 기반 프라이빗 시스템을 설정하는 것
- 블록체인 내 특정 데이터에 대한 액세스는 제어하면서 나머지 데이터는 공개
- 예를 들어, 퍼블릭 회원이 프라이빗 거래가 완료되었는지를 확인할 수는 있지만 프라이빗 거래 내역에 접근해 거래 내용을 확인하는 행위 등을 제한할 수 있게 하는 방법이 있다.

+ 장점
    - 폐쇄형 생태계에서 작동하므로 정보 유출에 대한 위험이 없다
    - 목적에 따라 규칙을 바꿀 수 있다
    - 일정한 노드만 참여가 가능하기 때문에 트랜잭션 비용이 저렴하다.

### 참조
***
[AWS 블록체인 관련 문서](https://aws.amazon.com/ko/what-is/blockchain/?aws-products-all.sort-by=item.additionalFields.productNameLowercase&aws-products-all.sort-order=asc)   
[SAP 블록체인 관련 문서](https://www.sap.com/korea/insights/what-is-blockchain.html)   
[노마드 코더 영상](https://www.youtube.com/watch?v=TljQRfHRId8&list=PL7jH19IHhOLOJfXeVqjtiawzNQLxOgTdq)